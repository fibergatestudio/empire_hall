document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll('div.image img').forEach(function(el){el.classList.add('lazy');el.dataset.srcset=el.src;el.src='image/placeholder.png'})
document.querySelectorAll('a.thumbnail img').forEach(function(els){els.classList.add('lazy');els.dataset.srcset=els.src;els.src='image/placeholder.png'})});let lazyImageObserver=new IntersectionObserver(function(entries,observer){},{rootMargin:"0px 0px 256px 0px"});document.addEventListener("DOMContentLoaded",function(){let lazyImages=[].slice.call(document.querySelectorAll("img.lazy"));let active=!1;const lazyLoad=function(){if(active===!1){active=!0;setTimeout(function(){lazyImages.forEach(function(lazyImage){if((lazyImage.getBoundingClientRect().top<=window.innerHeight&&lazyImage.getBoundingClientRect().bottom>=0)&&getComputedStyle(lazyImage).display!=="none"){lazyImage.src=lazyImage.dataset.src;lazyImage.srcset=lazyImage.dataset.srcset;lazyImage.classList.remove("lazy");lazyImages=lazyImages.filter(function(image){return image!==lazyImage});if(lazyImages.length===0){document.removeEventListener("scroll",lazyLoad);window.removeEventListener("resize",lazyLoad);window.removeEventListener("orientationchange",lazyLoad)}}});active=!1},500)}};document.addEventListener("scroll",lazyLoad);window.addEventListener("resize",lazyLoad);window.addEventListener("orientationchange",lazyLoad)});document.addEventListener("DOMContentLoaded",function(){var lazyBackgrounds=[].slice.call(document.querySelectorAll(".lazy-background"));if("IntersectionObserver"in window){let lazyBackgroundObserver=new IntersectionObserver(function(entries,observer){entries.forEach(function(entry){if(entry.isIntersecting){entry.target.classList.add("visible");lazyBackgroundObserver.unobserve(entry.target)}})});lazyBackgrounds.forEach(function(lazyBackground){lazyBackgroundObserver.observe(lazyBackground)})}});